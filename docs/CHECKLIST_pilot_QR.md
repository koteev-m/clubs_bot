# Пилот QR / Check-in — чек-лист

## D-3 (за 3 дня)
- [ ] DNS и SSL валидны для хоста пилота; бот отвечает на ping-команду.
- [ ] Mini App открывается по `https://<host>/webapp/entry?clubId=<ID>` из тестового чата.
- [ ] Роли `ENTRY_MANAGER`/`CLUB_ADMIN`/`MANAGER` выданы и привязаны к нужному `clubId`.
- [ ] Применены миграции БД, `./gradlew clean build detekt ktlintCheck --console=plain` зелёный.
- [ ] `/ready` и `/health` возвращают `200`, `/metrics` отдает данные.
- [ ] Подготовлены A/B списки тестовых QR для happy/error сценариев.

## D-0 (утро запуска)
- [ ] `/metrics` показывает счётчики `ui_checkin_scan_total`/`error_total`; дашборд открыт.
- [ ] Smoke: валидный QR → `200`, повторный → `200`, битый → `400`, чужой клуб → `403`.
- [ ] Проведён пробный чек-ин 3–5 реальных записей (с подтверждением гостей).
- [ ] Контакты on-call, доступ к логам (`docker compose logs app` или Kubernetes) подтверждены.

## Night-of (во время вечеринки)
- [ ] У каждого сотрудника открыт сканер; проверено, что `initData` не протухла (перезапуск при сомнении).
- [ ] Мониторинг p95/p99 и error rate на дашборде включен.
- [ ] При деградации задокументирован переход на ручной сценарий и уведомлена on-call смена.

## Post-mortem (следующее утро)
- [ ] Сведены метрики: суммарные сканы, error rate, p95 времени обработки.
- [ ] Составлен список инцидентов/edge-кейсов и решений.
- [ ] Сформирован план улучшений для ближайшего релиза (тексты, обучение, тех. правки).
